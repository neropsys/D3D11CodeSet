//
// FX Version: fx_5_0
//
// 2 local buffer(s)
//
cbuffer cbPerFrame
{
    DirectionalLight gDirLights[3];     // Offset:    0, size:  192
    float3  gEyePosW;                   // Offset:  192, size:   12
    float   gFogStart;                  // Offset:  204, size:    4
    float   gFogRange;                  // Offset:  208, size:    4
    float4  gFogColor;                  // Offset:  224, size:   16
}

cbuffer cbPerObject
{
    float4x4 gWorld;                    // Offset:    0, size:   64
    float4x4 gWorldInvTranspose;        // Offset:   64, size:   64
    float4x4 gWorldViewProj;            // Offset:  128, size:   64
    float4x4 gWorldViewProjTex;         // Offset:  192, size:   64
    float4x4 gTexTransform;             // Offset:  256, size:   64
    float4x4 gShadowTransform;          // Offset:  320, size:   64
    Material gMaterial;                 // Offset:  384, size:   64
}

//
// 7 local object(s)
//
Texture2D gShadowMap;
Texture2D gDiffuseMap;
Texture2D gNormalMap;
Texture2D gSsaoMap;
TextureCube gCubeMap;
SamplerState samLinear
{
    Filter   = uint(MIN_MAG_MIP_LINEAR /* 21 */);
    AddressU = uint(WRAP /* 1 */);
    AddressV = uint(WRAP /* 1 */);
};
SamplerComparisonState samShadow
{
    Filter   = uint(COMPARISON_MIN_MAG_LINEAR_MIP_POINT /* 148 */);
    AddressU = uint(BORDER /* 4 */);
    AddressV = uint(BORDER /* 4 */);
    AddressW = uint(BORDER /* 4 */);
    BorderColor = float4(0, 0, 0, 0);
    ComparisonFunc = uint(LESS_EQUAL /* 4 */);
};

//
// 1 groups(s)
//
fxgroup
{
    //
    // 44 technique(s)
    //
    technique11 Light1
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r5.xyz, r1.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r1.w, r5.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r2.xyz, r8.xyzx, r0.zzzz
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r5.xyz, r9.xyzx, r1.wwww
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.xyzx, r14.xyzx
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 158 instruction slots used
                            
            };
        }

    }

    technique11 Light2
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 198 instruction slots used
                            
            };
        }

    }

    technique11 Light3
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 238 instruction slots used
                            
            };
        }

    }

    technique11 Light0Tex
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float       
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 1
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 121 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                sample_indexable(texture2d)(float,float,float,float) r0.xyzw, v4.xyxx, t0.xyzw, s0  // r0.x <- texColor.x; r0.y <- texColor.y; r0.z <- texColor.z; r0.w <- texColor.w
                
                #line 137
                nop 
                
                #line 143
                mov r0.xyz, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r0.w, cb0[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 7 instruction slots used
                            
            };
        }

    }

    technique11 Light1Tex
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r5.xyz, r1.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r1.w, r5.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r2.xyz, r8.xyzx, r0.zzzz
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r5.xyz, r9.xyzx, r1.wwww
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.xyzx, r14.xyzx
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 158 instruction slots used
                            
            };
        }

    }

    technique11 Light2Tex
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 198 instruction slots used
                            
            };
        }

    }

    technique11 Light3Tex
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 238 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexAlphaClip
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float       
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 121 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                sample_indexable(texture2d)(float,float,float,float) r0.xyzw, v4.xyxx, t0.xyzw, s0  // r0.x <- texColor.x; r0.y <- texColor.y; r0.z <- texColor.z; r0.w <- texColor.w
                
                #line 128
                mov r1.x, l(-0.100000)
                add r1.x, r0.w, r1.x
                lt r1.x, r1.x, l(0.000000)
                and r1.x, r1.x, l(-1)
                discard_nz r1.x
                
                #line 137
                nop 
                
                #line 143
                mov r0.xyz, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r0.w, cb0[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 12 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexAlphaClip
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r5.xyz, r1.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r1.w, r5.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r2.xyz, r8.xyzx, r0.zzzz
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r5.xyz, r9.xyzx, r1.wwww
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.xyzx, r14.xyzx
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 163 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexAlphaClip
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 203 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexAlphaClip
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r5.xyz, r4.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r5.xyz, r7.xyzx, r1.wwww
                mul r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- diffuse.x; r5.y <- diffuse.y; r5.z <- diffuse.z
                mul r2.xyz, r8.xyzx, r2.xxxx
                mul r2.xyz, r11.xyzx, r2.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                movc r5.xyz, r2.wwww, r5.xyzx, r13.xyzx
                movc r2.xyz, r2.wwww, r2.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r5.xyz, r5.xyzx  // r5.x <- D.x; r5.y <- D.y; r5.z <- D.z
                mov r2.xyz, r2.xyzx  // r2.x <- S.x; r2.y <- S.y; r2.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r5.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r5.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r2.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 243 instruction slots used
                            
            };
        }

    }

    technique11 Light1Fog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r5.xyz, r2.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r9.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r8.xxyz, r0.zzzz
                mul r2.yzw, r11.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r9.xyzx, r2.xxxx
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.yzwy, r14.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 167 instruction slots used
                            
            };
        }

    }

    technique11 Light2Fog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 207 instruction slots used
                            
            };
        }

    }

    technique11 Light3Fog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 247 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192 [unused]
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 108 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, -v1.xyzx
                add r0.xyz, r0.xyzx, cb0[12].xyzx  // r0.x <- toEye.x; r0.y <- toEye.y; r0.z <- toEye.z
                
                #line 111
                dp3 r0.x, r0.xyzx, r0.xyzx
                sqrt r0.x, r0.x  // r0.x <- distToEye
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r1.xyzw, v4.xyxx, t0.xyzw, s0  // r1.x <- texColor.x; r1.y <- texColor.y; r1.z <- texColor.z; r1.w <- texColor.w
                
                #line 137
                nop 
                
                #line 143
                mov r1.xyz, r1.xyzx  // r1.x <- litColor.x; r1.y <- litColor.y; r1.z <- litColor.z
                
                #line 190
                mov r0.y, -cb0[12].w
                add r0.x, r0.y, r0.x
                div r0.x, r0.x, cb0[13].x
                max r0.x, r0.x, l(0.000000)
                min r0.x, r0.x, l(1.000000)  // r0.x <- fogLerp
                
                #line 193
                mov r0.yzw, -r1.xxyz
                add r0.yzw, r0.yyzw, cb0[14].xxyz
                mul r0.xyz, r0.yzwy, r0.xxxx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r1.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 20 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r5.xyz, r2.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r9.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r8.xxyz, r0.zzzz
                mul r2.yzw, r11.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r9.xyzx, r2.xxxx
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.yzwy, r14.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 167 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 207 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 247 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexAlphaClipFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192 [unused]
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 108 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, -v1.xyzx
                add r0.xyz, r0.xyzx, cb0[12].xyzx  // r0.x <- toEye.x; r0.y <- toEye.y; r0.z <- toEye.z
                
                #line 111
                dp3 r0.x, r0.xyzx, r0.xyzx
                sqrt r0.x, r0.x  // r0.x <- distToEye
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r1.xyzw, v4.xyxx, t0.xyzw, s0  // r1.x <- texColor.x; r1.y <- texColor.y; r1.z <- texColor.z; r1.w <- texColor.w
                
                #line 128
                mov r0.y, l(-0.100000)
                add r0.y, r0.y, r1.w
                lt r0.y, r0.y, l(0.000000)
                and r0.y, r0.y, l(-1)
                discard_nz r0.y
                
                #line 137
                nop 
                
                #line 143
                mov r1.xyz, r1.xyzx  // r1.x <- litColor.x; r1.y <- litColor.y; r1.z <- litColor.z
                
                #line 190
                mov r0.y, -cb0[12].w
                add r0.x, r0.y, r0.x
                div r0.x, r0.x, cb0[13].x
                max r0.x, r0.x, l(0.000000)
                min r0.x, r0.x, l(1.000000)  // r0.x <- fogLerp
                
                #line 193
                mov r0.yzw, -r1.xxyz
                add r0.yzw, r0.yyzw, cb0[14].xxyz
                mul r0.xyz, r0.yzwy, r0.xxxx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r1.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 25 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexAlphaClipFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r5.xyz, r2.wwww, r5.xyzx
                add r5.xyz, r10.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r9.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r8.xxyz, r0.zzzz
                mul r2.yzw, r11.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r9.xyzx, r2.xxxx
                mul r5.xyz, r12.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r0.wwww, r2.yzwy, r14.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r0.wwww, r5.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r2.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r2.xyz, r0.xxxx, r5.xyzx
                add r2.xyz, r2.xyzx, r6.xyzx  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r2.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 172 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexAlphaClipFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 212 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexAlphaClipFog
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[27], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r5.xyz, r5.wwww, r5.xyzx
                add r5.xyz, r9.xyzx, r5.xyzx  // r5.x <- v.x; r5.y <- v.y; r5.z <- v.z
                dp3 r2.x, r5.xyzx, r2.xyzx
                max r2.x, r2.x, l(0.000000)
                log r2.x, r2.x
                mul r2.x, r2.x, r8.w
                exp r2.x, r2.x  // r2.x <- specFactor
                mul r2.yzw, r7.xxyz, r2.wwww
                mul r2.yzw, r10.xxyz, r2.yyzw  // r2.y <- diffuse.x; r2.z <- diffuse.y; r2.w <- diffuse.z
                mul r5.xyz, r8.xyzx, r2.xxxx
                mul r5.xyz, r11.xyzx, r5.xyzx  // r5.x <- spec.x; r5.y <- spec.y; r5.z <- spec.z
                movc r2.xyz, r4.wwww, r2.yzwy, r13.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                movc r5.xyz, r4.wwww, r5.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r2.xyz, r2.xyzx  // r2.x <- D.x; r2.y <- D.y; r2.z <- D.z
                mov r5.xyz, r5.xyzx  // r5.x <- S.x; r5.y <- S.y; r5.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r2.xyz, r2.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r2.xyz, r2.xyzx, r4.xyzx  // r2.x <- diffuse.x; r2.y <- diffuse.y; r2.z <- diffuse.z
                mul r4.xyz, r5.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r4.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r2.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 252 instruction slots used
                            
            };
        }

    }

    technique11 Light1Reflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 168 instruction slots used
                            
            };
        }

    }

    technique11 Light2Reflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 208 instruction slots used
                            
            };
        }

    }

    technique11 Light3Reflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 248 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float       
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 1
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 121 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                sample_indexable(texture2d)(float,float,float,float) r0.xyzw, v4.xyxx, t0.xyzw, s0  // r0.x <- texColor.x; r0.y <- texColor.y; r0.z <- texColor.z; r0.w <- texColor.w
                
                #line 137
                nop 
                
                #line 143
                mov r0.xyz, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r0.w, cb0[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 7 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 168 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 208 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 248 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexAlphaClipReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float       
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 121 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                sample_indexable(texture2d)(float,float,float,float) r0.xyzw, v4.xyxx, t0.xyzw, s0  // r0.x <- texColor.x; r0.y <- texColor.y; r0.z <- texColor.z; r0.w <- texColor.w
                
                #line 128
                mov r1.x, l(-0.100000)
                add r1.x, r0.w, r1.x
                lt r1.x, r1.x, l(0.000000)
                and r1.x, r1.x, l(-1)
                discard_nz r1.x
                
                #line 137
                nop 
                
                #line 143
                mov r0.xyz, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r0.w, cb0[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 12 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexAlphaClipReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 173 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexAlphaClipReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 213 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexAlphaClipReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4 [unused]
                //   float gFogRange;                   // Offset:  208 Size:     4 [unused]
                //   float4 gFogColor;                  // Offset:  224 Size:    16 [unused]
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[13], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r1.w, l(-0.100000)
                add r1.w, r1.w, r3.w
                lt r1.w, r1.w, l(0.000000)
                and r1.w, r1.w, l(-1)
                discard_nz r1.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r1.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r1.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r1.w, r5.xyzx, r5.xyzx
                rsq r1.w, r1.w
                mul r5.xyz, r1.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r1.w, l(0)  // r1.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r1.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r1.w, r10.xyzx, r5.xyzx
                add r1.w, r1.w, r1.w
                mov r1.w, -r1.w
                mul r13.xyz, r1.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r1.w, r10.xyzx, r2.xyzx
                max r1.w, r1.w, l(0.000000)
                log r1.w, r1.w
                mul r1.w, r1.w, r9.w
                exp r1.w, r1.w  // r1.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r1.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx  // r1.w <- diffuseFactor
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r1.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r2.w, l(0.000000), r1.w
                mov r9.xyz, -r12.xyzx
                dp3 r4.w, r9.xyzx, r5.xyzx
                add r4.w, r4.w, r4.w
                mov r4.w, -r4.w
                mul r12.xyz, r4.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r4.w, r9.xyzx, r2.xyzx
                max r4.w, r4.w, l(0.000000)
                log r4.w, r4.w
                mul r4.w, r4.w, r8.w
                exp r4.w, r4.w  // r4.w <- specFactor
                mul r7.xyz, r7.xyzx, r1.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r4.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r2.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r2.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 253 instruction slots used
                            
            };
        }

    }

    technique11 Light1FogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 177 instruction slots used
                            
            };
        }

    }

    technique11 Light2FogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 217 instruction slots used
                            
            };
        }

    }

    technique11 Light3FogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gNormalMap                        texture  float4          2d    1        1
                // gSsaoMap                          texture  float4          2d    2        1
                // gCubeMap                          texture  float4        cube    3        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texturecube (float,float,float,float) t3
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 117
                itof r3.xyzw, l(1, 1, 1, 1)  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t2.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t3.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 257 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192 [unused]
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 108 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, -v1.xyzx
                add r0.xyz, r0.xyzx, cb0[12].xyzx  // r0.x <- toEye.x; r0.y <- toEye.y; r0.z <- toEye.z
                
                #line 111
                dp3 r0.x, r0.xyzx, r0.xyzx
                sqrt r0.x, r0.x  // r0.x <- distToEye
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r1.xyzw, v4.xyxx, t0.xyzw, s0  // r1.x <- texColor.x; r1.y <- texColor.y; r1.z <- texColor.z; r1.w <- texColor.w
                
                #line 137
                nop 
                
                #line 143
                mov r1.xyz, r1.xyzx  // r1.x <- litColor.x; r1.y <- litColor.y; r1.z <- litColor.z
                
                #line 190
                mov r0.y, -cb0[12].w
                add r0.x, r0.y, r0.x
                div r0.x, r0.x, cb0[13].x
                max r0.x, r0.x, l(0.000000)
                min r0.x, r0.x, l(1.000000)  // r0.x <- fogLerp
                
                #line 193
                mov r0.yzw, -r1.xxyz
                add r0.yzw, r0.yyzw, cb0[14].xxyz
                mul r0.xyz, r0.yzwy, r0.xxxx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r1.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 20 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 177 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 217 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 257 instruction slots used
                            
            };
        }

    }

    technique11 Light0TexAlphaClipFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192 [unused]
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // gDiffuseMap                       texture  float4          2d    0        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float       
                // TANGENT                  0   xyz         3     NONE   float       
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float       
                // TEXCOORD                 2   xyzw        6     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[26], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v4.xy
                dcl_output o0.xyzw
                dcl_temps 2
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 108 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, -v1.xyzx
                add r0.xyz, r0.xyzx, cb0[12].xyzx  // r0.x <- toEye.x; r0.y <- toEye.y; r0.z <- toEye.z
                
                #line 111
                dp3 r0.x, r0.xyzx, r0.xyzx
                sqrt r0.x, r0.x  // r0.x <- distToEye
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r1.xyzw, v4.xyxx, t0.xyzw, s0  // r1.x <- texColor.x; r1.y <- texColor.y; r1.z <- texColor.z; r1.w <- texColor.w
                
                #line 128
                mov r0.y, l(-0.100000)
                add r0.y, r0.y, r1.w
                lt r0.y, r0.y, l(0.000000)
                and r0.y, r0.y, l(-1)
                discard_nz r0.y
                
                #line 137
                nop 
                
                #line 143
                mov r1.xyz, r1.xyzx  // r1.x <- litColor.x; r1.y <- litColor.y; r1.z <- litColor.z
                
                #line 190
                mov r0.y, -cb0[12].w
                add r0.x, r0.y, r0.x
                div r0.x, r0.x, cb0[13].x
                max r0.x, r0.x, l(0.000000)
                min r0.x, r0.x, l(1.000000)  // r0.x <- fogLerp
                
                #line 193
                mov r0.yzw, -r1.xxyz
                add r0.yzw, r0.yyzw, cb0[14].xxyz
                mul r0.xyz, r0.yzwy, r0.xxxx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 197
                mul r0.w, r1.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 25 instruction slots used
                            
            };
        }

    }

    technique11 Light1TexAlphaClipFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r0.yzw, r0.yyyy, r7.xxyz
                add r0.yzw, r0.yyzw, r1.xxyz  // r0.y <- ambient.x; r0.z <- ambient.y; r0.w <- ambient.z
                mul r1.xyz, r0.xxxx, r8.xyzx
                add r1.xyz, r1.xyzx, r4.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z
                mul r4.xyz, r0.xxxx, r9.xyzx
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- spec.x; r4.y <- spec.y; r4.z <- spec.z
                
                #line 172
                add r0.xyz, r0.yzwy, r1.xyzx
                mul r0.xyz, r0.xyzx, r3.xyzx
                add r0.xyz, r4.xyzx, r0.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 182 instruction slots used
                            
            };
        }

    }

    technique11 Light2TexAlphaClipFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 222 instruction slots used
                            
            };
        }

    }

    technique11 Light3TexAlphaClipFogReflect
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // cbPerObject                       cbuffer      NA          NA    0        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // NORMAL                   0   xyz         1     NONE   float   xyz 
                // TEXCOORD                 0   xy          2     NONE   float   xy  
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xyzw
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[24], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xy
                dcl_input v3.xyz
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_output o5.xyzw
                dcl_output o6.xyzw
                dcl_temps 8
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.NormalL.x; v1.y <- vin.NormalL.y; v1.z <- vin.NormalL.z; 
                //   v2.x <- vin.Tex.x; v2.y <- vin.Tex.y; 
                //   v3.x <- vin.TangentL.x; v3.y <- vin.TangentL.y; v3.z <- vin.TangentL.z; 
                //   o6.x <- <VS return value>.SsaoPosH.x; o6.y <- <VS return value>.SsaoPosH.y; o6.z <- <VS return value>.SsaoPosH.z; o6.w <- <VS return value>.SsaoPosH.w; 
                //   o5.x <- <VS return value>.ShadowPosH.x; o5.y <- <VS return value>.ShadowPosH.y; o5.z <- <VS return value>.ShadowPosH.z; o5.w <- <VS return value>.ShadowPosH.w; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.TangentW.x; o3.y <- <VS return value>.TangentW.y; o3.z <- <VS return value>.TangentW.z; 
                //   o2.x <- <VS return value>.NormalW.x; o2.y <- <VS return value>.NormalW.y; o2.z <- <VS return value>.NormalW.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 78 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r0.xyz, v0.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.PosW.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.PosW.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.PosW.z
                dp3 r2.x, v1.xyzx, cb0[4].xyzx  // r2.x <- vout.NormalW.x
                dp3 r2.y, v1.xyzx, cb0[5].xyzx  // r2.y <- vout.NormalW.y
                dp3 r2.z, v1.xyzx, cb0[6].xyzx  // r2.z <- vout.NormalW.z
                dp3 r3.x, v3.xyzx, cb0[0].xyzx  // r3.x <- vout.TangentW.x
                dp3 r3.y, v3.xyzx, cb0[1].xyzx  // r3.y <- vout.TangentW.y
                dp3 r3.z, v3.xyzx, cb0[2].xyzx  // r3.z <- vout.TangentW.z
                
                #line 83
                dp4 r4.x, r0.xyzw, cb0[8].xyzw  // r4.x <- vout.PosH.x
                dp4 r4.y, r0.xyzw, cb0[9].xyzw  // r4.y <- vout.PosH.y
                dp4 r4.z, r0.xyzw, cb0[10].xyzw  // r4.z <- vout.PosH.z
                dp4 r4.w, r0.xyzw, cb0[11].xyzw  // r4.w <- vout.PosH.w
                
                #line 86
                mov r5.xy, v2.xyxx
                mov r5.zw, l(0,0,0,1.000000)
                dp4 r6.x, r5.xyzw, cb0[16].xyzw  // r6.x <- vout.Tex.x
                dp4 r6.y, r5.xyzw, cb0[17].xyzw  // r6.y <- vout.Tex.y
                
                #line 89
                dp4 r5.x, r0.xyzw, cb0[20].xyzw  // r5.x <- vout.ShadowPosH.x
                dp4 r5.y, r0.xyzw, cb0[21].xyzw  // r5.y <- vout.ShadowPosH.y
                dp4 r5.z, r0.xyzw, cb0[22].xyzw  // r5.z <- vout.ShadowPosH.z
                dp4 r5.w, r0.xyzw, cb0[23].xyzw  // r5.w <- vout.ShadowPosH.w
                
                #line 92
                dp4 r7.x, r0.xyzw, cb0[12].xyzw  // r7.x <- vout.SsaoPosH.x
                dp4 r7.y, r0.xyzw, cb0[13].xyzw  // r7.y <- vout.SsaoPosH.y
                dp4 r7.z, r0.xyzw, cb0[14].xyzw  // r7.z <- vout.SsaoPosH.z
                dp4 r7.w, r0.xyzw, cb0[15].xyzw  // r7.w <- vout.SsaoPosH.w
                mov o0.xyzw, r4.xyzw
                mov o5.xyzw, r5.xyzw
                mov o6.xyzw, r7.xyzw
                mov o1.xyz, r1.xyzx
                mov o2.xyz, r2.xyzx
                mov o3.xyz, r3.xyzx
                mov o4.xy, r6.xyxx
                ret 
                // Approximately 35 instruction slots used
                            
            };
            GeometryShader = NULL;
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerFrame
                // {
                //
                //   struct DirectionalLight
                //   {
                //       
                //       float4 Ambient;                // Offset:    0
                //       float4 Diffuse;                // Offset:   16
                //       float4 Specular;               // Offset:   32
                //       float3 Direction;              // Offset:   48
                //       float pad;                     // Offset:   60
                //
                //   } gDirLights[3];                   // Offset:    0 Size:   192
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFogStart;                   // Offset:  204 Size:     4
                //   float gFogRange;                   // Offset:  208 Size:     4
                //   float4 gFogColor;                  // Offset:  224 Size:    16
                //
                // }
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldInvTranspose;       // Offset:   64 Size:    64 [unused]
                //   float4x4 gWorldViewProj;           // Offset:  128 Size:    64 [unused]
                //   float4x4 gWorldViewProjTex;        // Offset:  192 Size:    64 [unused]
                //   float4x4 gTexTransform;            // Offset:  256 Size:    64 [unused]
                //   float4x4 gShadowTransform;         // Offset:  320 Size:    64 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 Ambient;                // Offset:  384
                //       float4 Diffuse;                // Offset:  400
                //       float4 Specular;               // Offset:  416
                //       float4 Reflect;                // Offset:  432
                //
                //   } gMaterial;                       // Offset:  384 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim Slot Elements
                // ------------------------------ ---------- ------- ----------- ---- --------
                // samLinear                         sampler      NA          NA    0        1
                // samShadow                       sampler_c      NA          NA    1        1
                // gShadowMap                        texture  float4          2d    0        1
                // gDiffuseMap                       texture  float4          2d    1        1
                // gNormalMap                        texture  float4          2d    2        1
                // gSsaoMap                          texture  float4          2d    3        1
                // gCubeMap                          texture  float4        cube    4        1
                // cbPerFrame                        cbuffer      NA          NA    0        1
                // cbPerObject                       cbuffer      NA          NA    1        1
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TANGENT                  0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                // TEXCOORD                 1   xyzw        5     NONE   float   xyzw
                // TEXCOORD                 2   xyzw        6     NONE   float   xy w
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer cb0[15], immediateIndexed
                dcl_constantbuffer cb1[28], immediateIndexed
                dcl_sampler s0, mode_default
                dcl_sampler s1, mode_comparison
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_resource_texture2d (float,float,float,float) t1
                dcl_resource_texture2d (float,float,float,float) t2
                dcl_resource_texture2d (float,float,float,float) t3
                dcl_resource_texturecube (float,float,float,float) t4
                dcl_input_ps linear v1.xyz
                dcl_input_ps linear v2.xyz
                dcl_input_ps linear v3.xyz
                dcl_input_ps linear v4.xy
                dcl_input_ps linear v5.xyzw
                dcl_input_ps linear v6.xyw
                dcl_output o0.xyzw
                dcl_temps 16
                dcl_indexableTemp x0[9], 4
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.NormalW.x; v2.y <- pin.NormalW.y; v2.z <- pin.NormalW.z; 
                //   v3.x <- pin.TangentW.x; v3.y <- pin.TangentW.y; v3.z <- pin.TangentW.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   v5.x <- pin.ShadowPosH.x; v5.y <- pin.ShadowPosH.y; v5.z <- pin.ShadowPosH.z; v5.w <- pin.ShadowPosH.w; 
                //   v6.x <- pin.SsaoPosH.x; v6.y <- pin.SsaoPosH.y; v6.z <- pin.SsaoPosH.z; v6.w <- pin.SsaoPosH.w; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 226 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r0.x, l(0.000488)  // r0.x <- SMAP_DX
                
                #line 105 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                dp3 r1.x, v2.xyzx, v2.xyzx
                rsq r1.x, r1.x
                mul r1.xyz, r1.xxxx, v2.xyzx  // r1.x <- pin.NormalW.x; r1.y <- pin.NormalW.y; r1.z <- pin.NormalW.z
                
                #line 108
                mov r2.xyz, -v1.xyzx
                add r2.xyz, r2.xyzx, cb0[12].xyzx  // r2.x <- toEye.x; r2.y <- toEye.y; r2.z <- toEye.z
                
                #line 111
                dp3 r1.w, r2.xyzx, r2.xyzx
                sqrt r1.w, r1.w  // r1.w <- distToEye
                
                #line 114
                div r2.xyz, r2.xyzx, r1.wwww
                
                #line 121
                sample_indexable(texture2d)(float,float,float,float) r3.xyzw, v4.xyxx, t1.xyzw, s0  // r3.x <- texColor.x; r3.y <- texColor.y; r3.z <- texColor.z; r3.w <- texColor.w
                
                #line 128
                mov r2.w, l(-0.100000)
                add r2.w, r2.w, r3.w
                lt r2.w, r2.w, l(0.000000)
                and r2.w, r2.w, l(-1)
                discard_nz r2.w
                
                #line 136
                sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t2.xyzw, s0
                mov r4.xyz, r4.xyzx  // r4.x <- normalMapSample.x; r4.y <- normalMapSample.y; r4.z <- normalMapSample.z
                nop 
                mov r4.xyz, r4.xyzx
                mov r1.xyz, r1.xyzx
                mov r5.xyz, v3.yzxy
                
                #line 206 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mul r4.xyz, r4.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
                mov r6.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx  // r4.x <- normalT.x; r4.y <- normalT.y; r4.z <- normalT.z
                
                #line 209
                mov r1.xyz, r1.xyzx  // r1.x <- N.x; r1.y <- N.y; r1.z <- N.z
                dp3 r2.w, r5.zxyz, r1.xyzx
                mul r6.xyz, r1.yzxy, r2.wwww
                mov r6.xyz, -r6.xyzx
                add r5.xyz, r5.xyzx, r6.xyzx
                dp3 r2.w, r5.xyzx, r5.xyzx
                rsq r2.w, r2.w
                mul r5.xyz, r2.wwww, r5.xyzx  // r5.x <- T.y; r5.y <- T.z; r5.z <- T.x
                mul r6.xyz, r1.yzxy, r5.yzxy
                mul r7.xyz, r1.zxyz, r5.xyzx
                mov r7.xyz, -r7.xyzx
                add r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- B.x; r6.y <- B.y; r6.z <- B.z
                mov r7.x, r5.z  // r7.x <- TBN._m00
                mov r7.y, r6.x  // r7.y <- TBN._m10
                mov r7.z, r1.x  // r7.z <- TBN._m20
                mov r8.x, r5.x  // r8.x <- TBN._m01
                mov r8.y, r6.y  // r8.y <- TBN._m11
                mov r8.z, r1.y  // r8.z <- TBN._m21
                mov r1.x, r5.y  // r1.x <- TBN._m02
                mov r1.y, r6.z  // r1.y <- TBN._m12
                mov r1.z, r1.z  // r1.z <- TBN._m22
                
                #line 216
                dp3 r5.x, r4.xyzx, r7.xyzx  // r5.x <- bumpedNormalW.x
                dp3 r5.y, r4.xyzx, r8.xyzx  // r5.y <- bumpedNormalW.y
                dp3 r5.z, r4.xyzx, r1.xyzx  // r5.z <- bumpedNormalW.z
                mov r5.xyz, r5.xyzx  // r5.x <- <NormalSampleToWorldSpace return value>.x; r5.y <- <NormalSampleToWorldSpace return value>.y; r5.z <- <NormalSampleToWorldSpace return value>.z
                
                #line 137 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r5.xyz, r5.xyzx  // r5.x <- bumpedNormalW.x; r5.y <- bumpedNormalW.y; r5.z <- bumpedNormalW.z
                
                #line 147
                mov r1.xyz, l(0,0,0,0)  // r1.x <- ambient.x; r1.y <- ambient.y; r1.z <- ambient.z
                mov r4.xyz, l(0,0,0,0)  // r4.x <- diffuse.x; r4.y <- diffuse.y; r4.z <- diffuse.z
                mov r6.xyz, l(0,0,0,0)  // r6.x <- spec.x; r6.y <- spec.y; r6.z <- spec.z
                
                #line 153
                nop 
                nop 
                nop 
                mov r7.xyzw, v5.xyzw
                
                #line 233 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                div r7.xyz, r7.zxyz, r7.wwww  // r7.x <- shadowPosH.z; r7.y <- shadowPosH.x; r7.z <- shadowPosH.y
                
                #line 236
                mov r7.x, r7.x  // r7.x <- depth
                
                #line 239
                mov r0.x, r0.x  // r0.x <- dx
                mov r2.w, l(0)  // r2.w <- percentLit
                mov x0[0].xy, l(-0.000488,-0.000488,0,0)
                mov x0[1].xy, l(0,-0.000488,0,0)
                mov r0.y, l(-0.000488)
                mov x0[2].xy, r0.xyxx
                mov x0[3].xy, l(-0.000488,0,0,0)
                mov x0[4].xy, l(0,0,0,0)
                mov r0.z, l(0)
                mov x0[5].xy, r0.xzxx
                mov x0[6].xy, l(-0.000488,0.000488,0,0)
                mov x0[7].xy, l(0,0.000488,0,0)
                mov r0.w, l(0.000488)
                mov x0[8].xy, r0.xwxx
                
                #line 252
                mov r0.xy, x0[0].xyxx
                add r0.xy, r0.xyxx, r7.yzyy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.x, r0.xyxx, t0.xxxx, s1, r7.x
                add r0.x, r0.x, r2.w  // r0.x <- percentLit
                mov r0.yz, x0[1].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[2].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[3].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[4].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[5].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[6].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[7].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                mov r0.yz, x0[8].xxyx
                add r0.yz, r0.yyzy, r7.yyzy
                sample_c_lz_indexable(texture2d)(float,float,float,float) r0.y, r0.yzyy, t0.xxxx, s1, r7.x
                add r0.x, r0.y, r0.x
                
                #line 256
                div r0.x, r0.x, l(9.000000)
                
                #line 156 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                div r0.yz, v6.xxyx, v6.wwww  // r0.y <- pin.SsaoPosH.x; r0.z <- pin.SsaoPosH.y
                ftoi r7.xy, l(0.000000, 0.000000, 0.000000, 0.000000)
                sample_aoffimmi_indexable(0,0,0)(texture2d)(float,float,float,float) r0.y, r0.yzyy, t3.yxzw, s0
                mov r0.y, r0.y  // r0.y <- ambientAccess
                
                #line 164
                nop 
                mov r7.xyz, cb1[24].xyzx
                mov r8.xyz, cb1[25].xyzx
                mov r9.xyzw, cb1[26].xyzw
                mov r10.xyz, cb0[0].xyzx
                mov r11.xyz, cb0[1].xyzx
                mov r12.xyz, cb0[2].xyzx
                mov r13.xyz, cb0[3].xyzx
                mov r5.xyz, r5.xyzx
                mov r2.xyz, r2.xyzx
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r14.xyz, l(0,0,0,0)  // r14.x <- diffuse.x; r14.y <- diffuse.y; r14.z <- diffuse.z
                mov r15.xyz, l(0,0,0,0)  // r15.x <- spec.x; r15.y <- spec.y; r15.z <- spec.z
                
                #line 70
                mov r13.xyz, -r13.xyzx  // r13.x <- lightVec.x; r13.y <- lightVec.y; r13.z <- lightVec.z
                
                #line 73
                mul r7.xyz, r7.xyzx, r10.xyzx  // r7.x <- ambient.x; r7.y <- ambient.y; r7.z <- ambient.z
                
                #line 78
                dp3 r0.z, r13.xyzx, r5.xyzx  // r0.z <- diffuseFactor
                
                #line 82
                lt r0.w, l(0.000000), r0.z
                mov r10.xyz, -r13.xyzx
                dp3 r2.w, r10.xyzx, r5.xyzx
                add r2.w, r2.w, r2.w
                mov r2.w, -r2.w
                mul r13.xyz, r2.wwww, r5.xyzx
                add r10.xyz, r10.xyzx, r13.xyzx  // r10.x <- v.x; r10.y <- v.y; r10.z <- v.z
                dp3 r2.w, r10.xyzx, r2.xyzx
                max r2.w, r2.w, l(0.000000)
                log r2.w, r2.w
                mul r2.w, r2.w, r9.w
                exp r2.w, r2.w  // r2.w <- specFactor
                mul r8.xyz, r8.xyzx, r0.zzzz
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- diffuse.x; r8.y <- diffuse.y; r8.z <- diffuse.z
                mul r9.xyz, r9.xyzx, r2.wwww
                mul r9.xyz, r12.xyzx, r9.xyzx  // r9.x <- spec.x; r9.y <- spec.y; r9.z <- spec.z
                movc r8.xyz, r0.wwww, r8.xyzx, r14.xyzx
                movc r9.xyz, r0.wwww, r9.xyzx, r15.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r7.xyz, r7.xyzx  // r7.x <- A.x; r7.y <- A.y; r7.z <- A.z
                mov r8.xyz, r8.xyzx  // r8.x <- D.x; r8.y <- D.y; r8.z <- D.z
                mov r9.xyz, r9.xyzx  // r9.x <- S.x; r9.y <- S.y; r9.z <- S.z
                
                #line 167
                mul r7.xyz, r0.yyyy, r7.xyzx
                add r1.xyz, r1.xyzx, r7.xyzx
                mul r7.xyz, r0.xxxx, r8.xyzx
                add r4.xyz, r4.xyzx, r7.xyzx
                mul r0.xzw, r0.xxxx, r9.xxyz
                add r0.xzw, r0.xxzw, r6.xxyz  // r0.x <- spec.x; r0.z <- spec.y; r0.w <- spec.z
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z; r8.w <- mat.Specular.w
                mov r9.xyz, cb0[4].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[5].xyzx  // r10.x <- L.Diffuse.x; r10.y <- L.Diffuse.y; r10.z <- L.Diffuse.z
                mov r11.xyz, cb0[6].xyzx  // r11.x <- L.Specular.x; r11.y <- L.Specular.y; r11.z <- L.Specular.z
                mov r12.xyz, cb0[7].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx  // r2.w <- diffuseFactor
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xzw, r0.xxzw, r6.xxyz
                
                #line 164
                nop 
                mov r6.xyz, cb1[24].xyzx  // r6.x <- mat.Ambient.x; r6.y <- mat.Ambient.y; r6.z <- mat.Ambient.z
                mov r7.xyz, cb1[25].xyzx  // r7.x <- mat.Diffuse.x; r7.y <- mat.Diffuse.y; r7.z <- mat.Diffuse.z
                mov r8.xyzw, cb1[26].xyzw  // r8.x <- mat.Specular.x; r8.y <- mat.Specular.y; r8.z <- mat.Specular.z
                mov r9.xyz, cb0[8].xyzx  // r9.x <- L.Ambient.x; r9.y <- L.Ambient.y; r9.z <- L.Ambient.z
                mov r10.xyz, cb0[9].xyzx
                mov r11.xyz, cb0[10].xyzx
                mov r12.xyz, cb0[11].xyzx  // r12.x <- L.Direction.x; r12.y <- L.Direction.y; r12.z <- L.Direction.z
                
                #line 66 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\LightHelper.fx"
                mov r13.xyz, l(0,0,0,0)  // r13.x <- diffuse.x; r13.y <- diffuse.y; r13.z <- diffuse.z
                mov r14.xyz, l(0,0,0,0)  // r14.x <- spec.x; r14.y <- spec.y; r14.z <- spec.z
                
                #line 70
                mov r12.xyz, -r12.xyzx  // r12.x <- lightVec.x; r12.y <- lightVec.y; r12.z <- lightVec.z
                
                #line 73
                mul r6.xyz, r6.xyzx, r9.xyzx  // r6.x <- ambient.x; r6.y <- ambient.y; r6.z <- ambient.z
                
                #line 78
                dp3 r2.w, r12.xyzx, r5.xyzx
                
                #line 82
                lt r4.w, l(0.000000), r2.w
                mov r9.xyz, -r12.xyzx
                dp3 r5.w, r9.xyzx, r5.xyzx
                add r5.w, r5.w, r5.w
                mov r5.w, -r5.w
                mul r12.xyz, r5.wwww, r5.xyzx
                add r9.xyz, r9.xyzx, r12.xyzx  // r9.x <- v.x; r9.y <- v.y; r9.z <- v.z
                dp3 r5.w, r9.xyzx, r2.xyzx
                max r5.w, r5.w, l(0.000000)
                log r5.w, r5.w
                mul r5.w, r5.w, r8.w
                exp r5.w, r5.w  // r5.w <- specFactor
                mul r7.xyz, r7.xyzx, r2.wwww
                mul r7.xyz, r10.xyzx, r7.xyzx  // r7.x <- diffuse.x; r7.y <- diffuse.y; r7.z <- diffuse.z
                mul r8.xyz, r8.xyzx, r5.wwww
                mul r8.xyz, r11.xyzx, r8.xyzx  // r8.x <- spec.x; r8.y <- spec.y; r8.z <- spec.z
                movc r7.xyz, r4.wwww, r7.xyzx, r13.xyzx
                movc r8.xyz, r4.wwww, r8.xyzx, r14.xyzx
                
                #line 164 "C:\Users\Administrator\Downloads\d3d11CodeSet3\Chapter 22 Ambient Occlusion\Ssao\FX\NormalMap.fx"
                mov r6.xyz, r6.xyzx  // r6.x <- A.x; r6.y <- A.y; r6.z <- A.z
                mov r7.xyz, r7.xyzx  // r7.x <- D.x; r7.y <- D.y; r7.z <- D.z
                mov r8.xyz, r8.xyzx  // r8.x <- S.x; r8.y <- S.y; r8.z <- S.z
                
                #line 167
                mul r6.xyz, r0.yyyy, r6.xyzx
                add r1.xyz, r1.xyzx, r6.xyzx
                mul r6.xyz, r7.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r4.xyz, r4.xyzx, r6.xyzx
                mul r6.xyz, r8.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
                add r0.xyz, r0.xzwx, r6.xyzx  // r0.y <- spec.y; r0.z <- spec.z
                
                #line 172
                add r1.xyz, r1.xyzx, r4.xyzx
                mul r1.xyz, r1.xyzx, r3.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx  // r0.x <- litColor.x; r0.y <- litColor.y; r0.z <- litColor.z
                
                #line 176
                mov r1.xyz, -r2.xyzx  // r1.x <- incident.x; r1.y <- incident.y; r1.z <- incident.z
                dp3 r0.w, r1.xyzx, r5.xyzx
                add r0.w, r0.w, r0.w
                mov r0.w, -r0.w
                mul r2.xyz, r0.wwww, r5.xyzx
                add r1.xyz, r1.xyzx, r2.xyzx  // r1.x <- reflectionVector.x; r1.y <- reflectionVector.y; r1.z <- reflectionVector.z
                sample_indexable(texturecube)(float,float,float,float) r1.xyz, r1.xyzx, t4.xyzw, s0
                mov r1.xyz, r1.xyzx  // r1.x <- reflectionColor.x; r1.y <- reflectionColor.y; r1.z <- reflectionColor.z
                mul r1.xyz, r1.xyzx, cb1[27].xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 190
                mov r0.w, -cb0[12].w
                add r0.w, r0.w, r1.w
                div r0.w, r0.w, cb0[13].x
                max r0.w, r0.w, l(0.000000)
                min r0.w, r0.w, l(1.000000)  // r0.w <- fogLerp
                
                #line 193
                mov r1.xyz, -r0.xyzx
                add r1.xyz, r1.xyzx, cb0[14].xyzx
                mul r1.xyz, r0.wwww, r1.xyzx
                add r0.xyz, r0.xyzx, r1.xyzx
                
                #line 197
                mul r0.w, r3.w, cb1[25].w  // r0.w <- litColor.w
                mov o0.xyz, r0.xyzx
                mov o0.w, r0.w
                ret 
                // Approximately 262 instruction slots used
                            
            };
        }

    }

}

